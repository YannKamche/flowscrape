#!/usr/bin/env sh

echo "ğŸ‘· Running pre-commit checks..."

# Check Prettier formatting
npm run check-format || {
    echo "âŒ Prettier check failed! Run 'npm run format' and try again."
    exit 1
}

# Check ESLint
npm run lint || {
    echo "âŒ ESLint errors! Fix them before committing."
    exit 1
}

# Check TypeScript types
npm run check-types || {
    echo "âŒ TypeScript errors found. Fix them!"
    exit 1
}

# Check Next.js build (fails on warnings)
npm run build --max-warnings=0 || {
    echo "âŒ Next.js build failed! Check errors above."
    exit 1
}

echo "âœ… All checks passed! Committing..."